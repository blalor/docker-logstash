## loop-back input to reprocess events with oldlogstashjson codec
## 
## required because beaver v30 doesn't generate events with the logstash 1.2
## json schema, the apache logs I'm generating use the old json schema, the
## bunyan logs have their own (better) json schema, logstash's field renaming is
## broken for nested properties, and there doesn't appear to be a way to
## reprocess an existing event through a codec. *phew*  I'm kinda fed up with
## logstash right nowâ€¦
## 
## see 910-output-tcp-loopback.conf
## see 400-mogrify-tcp-loopback.conf
input {
    tcp {
        host => "127.0.0.1"
        port => 4242
        mode => "server"
        
        codec => oldlogstashjson {}
        tags => [ "tcp_input" ]
    }
}

